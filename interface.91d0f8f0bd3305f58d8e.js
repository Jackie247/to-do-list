"use strict";(self.webpackChunkto_do_list=self.webpackChunkto_do_list||[]).push([[568,242,930,143],{24:(t,e,s)=>{s.d(e,{Z:()=>n});var a=s(15),d=s(507),c=s(346);class n{static displayHome(){n.loadSavedProjects(),n.initProjectButtons(),n.openProject("Inbox",document.getElementById("inbox"))}static loadSavedProjects(){c.Z.getSavedProjectList().getProjects().forEach((t=>{"Inbox"!==t.name&&"Today"!==t.name&&"Upcoming"!==t.name&&n.createProject(t.name)})),n.initAddProjectBtn()}static loadTasks(t){c.Z.getSavedProjectList().getProject(t).getTaskList().forEach((e=>{n.createTask(t,e.name,e.dueDate)})),"Today"!==t&&"Upcoming"!==t&&n.initAddTaskButton()}static loadProjectTasks(t){const e=document.getElementById("project-tasks");e.innerHTML=`\n            <h2 id='project-tasks-title' class="project-title">${t}</h2>\n            <div id='task-list' class="task-list"></div>`,"Today"!==t&&"Upcoming"!==t&&(e.innerHTML+="\n            <button type=\"button\" id='add-task' class=\"add-task-btn\">\n                <i id='add-task-icon' class=\"bi bi-plus-square\"></i>\n                <p id='add-task-text'>Add Task</p>\n            </button>\n            "),n.loadTasks(t)}static clearDisplay(){n.clearProjectList(),n.clearProjectSection(),n.clearTaskList()}static clearProjectList(){document.getElementById("project-list").textContent=""}static clearProjectSection(){document.getElementById("project-tasks").textContent=""}static clearTaskList(){document.getElementById("task-list").innerHTML=""}static closeTaskPopupModal(){const t=document.getElementById("task-popup");"block"==t.style.display&&t.style.display}static closeAllForms(){n.closeAddProjectForm(),document.getElementById("add-task")&&n.closeTaskPopupModal()}static createProject(t){document.getElementById("project-list").innerHTML+=`\n            <button class='new-project'>\n                <div class='left-div'>\n                    <i class='bi bi-list-task'></i>\n                    <p class='project-name'>${t}</p>\n                </div>\n                <div class='right-div'>\n                    <i class='bi bi-x-circle'></i>\n                </div>\n            </button>\n        `,n.initProjectButtons()}static addProjectToList(){const t=document.getElementById("add-project-title"),e=t.value;if(""!==e){if(c.Z.getSavedProjectList().projectListContains(e))return t.value,void alert("Project already exists");c.Z.addProject(new a.Z(e)),n.createProject(e),n.closeAddProjectForm()}else alert("Enter project name")}static openProject(t,e){[...document.querySelectorAll(".default-project"),...document.querySelectorAll(".new-project")].forEach((t=>t.classList.remove("active"))),e.classList.add("active"),n.closeAddProjectForm(),n.loadProjectTasks(t)}static deleteProject(t,e){e.classList.contains("active")&&n.clearTaskList(),c.Z.deleteProject(t),n.clearProjectList(),n.loadSavedProjects()}static initProjectButtons(){const t=document.getElementById("inbox"),e=document.getElementById("today"),s=document.getElementById("upcoming"),a=document.getElementById("nav-dropdown"),d=document.querySelectorAll(".new-project");t.addEventListener("click",n.openInbox),e.addEventListener("click",n.openToday),s.addEventListener("click",n.openUpcoming),a.addEventListener("click",n.toggleNavbarDisplay),d.forEach((t=>t.addEventListener("click",n.handleUserProjects)))}static openInbox(){n.openProject("Inbox",this)}static openToday(){c.Z.updateToday(),n.openProject("Today",this)}static openUpcoming(){c.Z.updateUpcoming(),n.openProject("Upcoming",this)}static toggleNavbarDisplay(){document.getElementById("navbar").classList.toggle("active")}static handleUserProjects(t){const e=this.children[0].children[1].textContent;t.target.classList.contains("bi-x-circle")?n.deleteProject(e,this):n.openProject(e,this)}static initAddProjectBtn(){const t=document.getElementById("add-project-btn"),e=document.getElementById("project-form-cancel"),s=document.getElementById("project-form-accept");t.addEventListener("click",n.openAddProjectForm),e.addEventListener("click",n.closeAddProjectForm),s.addEventListener("click",n.addProjectToList)}static openAddProjectForm(){const t=document.getElementById("add-project-form"),e=document.getElementById("add-project-btn");n.closeAllForms(),t.style.display="block",e.style.display="none"}static closeAddProjectForm(){const t=document.getElementById("add-project-form"),e=document.getElementById("add-project-btn"),s=document.getElementById("add-project-title");t.style.display="none",e.style.display="flex",s.value=""}static createTask(t,e,s){const a=document.getElementById("task-list"),d=document.createElement("div");d.classList.add("task");const c=document.createElement("input");c.setAttribute("type","checkbox"),c.classList.add("task-checkbox");const o=document.createElement("button");o.textContent="Edit",o.classList.add("edit-task"),o.setAttribute("type","button");const i=document.createElement("button");i.setAttribute("id","del-task-btn"),i.classList.add("del-task-btn","bi","bi-x-circle"),i.setAttribute("type","button");const l=document.createElement("p");l.classList.add("task-name"),l.textContent=e;const r=document.createElement("p");r.classList.add("task-date"),r.textContent=s,d.appendChild(c),d.appendChild(l),d.appendChild(r),d.appendChild(o),d.appendChild(i),a.appendChild(d);let m=a.querySelectorAll(".task");d.setAttribute("data-project",`${t}`),d.setAttribute("data-index",m.length-1),n.initTaskButtons()}static initAddTaskButton(){const t=document.getElementById("add-task"),e=document.getElementById("close-new-task-popup"),s=document.getElementById("accept-task-btn");t.addEventListener("click",n.openAddTaskModal),e.addEventListener("click",n.closeAddTaskModal),s.addEventListener("click",n.addTask)}static openAddTaskModal(){const t=document.getElementById("task-modal");n.closeAllForms(),t.style.display="block"}static closeAddTaskModal(){const t=document.getElementById("task-modal"),e=document.getElementById("new-task-title"),s=document.getElementById("new-task-details"),a=document.getElementById("new-task-date");t.style.display="none",e.value="",s.value="",a.value=""}static addTask(){const t=document.getElementById("project-tasks-title").textContent,e=document.getElementById("new-task-title").value,s=document.getElementById("new-task-date").value,a=document.getElementById("new-task-details").value;""!==e?c.Z.getSavedProjectList().getProject(t).taskListContains(e)?alert("Task names must be different"):(""===s?n.createTask(t,e,"No date"):n.createTask(t,e,s),c.Z.addTask(t,new d.Z(e)),c.Z.setTaskDate(t,e,s),c.Z.setTaskDetails(t,e,a),n.closeAddTaskModal()):alert("Enter task title")}static initTaskButtons(){document.querySelectorAll(".task").forEach((t=>{t.addEventListener("click",n.handleTaskEvents)}))}static deleteTask(t){const e=document.getElementById("project-tasks-title").textContent,s=t.children[1].textContent;if("Today"===e||"Upcoming"===e){const e=t.split("(")[1].split(")")[0];c.Z.deleteTask(e,s)}c.Z.deleteTask(e,s),n.clearTaskList(),n.loadProjectTasks(e)}static handleTaskEvents(t){const e=document.getElementById("project-tasks-title").textContent,s=c.Z.getSavedProjectList().getProject(e).getTaskList();t.target.classList.contains("bi-x-circle")&&n.deleteTask(this),t.target.classList.contains("edit-task")&&n.renderTaskDetails(this,s),t.target.classList.contains("task-checkbox")&&n.updateTaskCompleted(this)}static renderTaskDetails(t,e){const s=c.Z.getSavedProjectList();let a=t.dataset.index,d=e[a];n.closeAllForms();const o=document.getElementById("edit-task-popup");o.innerHTML="";const i=document.createElement("div");i.classList.add("modal","popup-active"),i.setAttribute("id","edit-task-modal");const l=document.createElement("div");l.classList.add("modal-content");const r=document.createElement("div");r.classList.add("modal-header");const m=document.createElement("h2");m.textContent="Edit task.";const p=document.createElement("button");p.setAttribute("id","close-edit-task-popup"),p.classList.add("close-btn"),p.addEventListener("click",(()=>i.classList.toggle("popup-active"))),p.setAttribute("type","button");const u=document.createElement("i");u.classList.add("bi","bi-x-circle");const g=document.createElement("div");g.classList.add("modal-main");const k=document.createElement("div");k.classList.add("edit-task-title-textarea");const j=document.createElement("textarea");j.setAttribute("id","edit-task-title"),j.setAttribute("placeholder","Title: New title"),j.setAttribute("maxlength","40"),j.classList.add("edit-task-title"),j.required=!0,j.value=d.name,j.dataset.index=a,j.dataset.project=t.dataset.project;const h=document.createElement("div");h.classList.add("edit-task-details-textarea");const L=document.createElement("textarea");L.setAttribute("id","edit-task-details"),L.setAttribute("placeholder","Details: e.g shopping, gym, deadlines"),L.classList.add("edit-task-details"),L.value=d.details;const T=document.createElement("div");T.classList.add("edit-task-due-date");const E=document.createElement("h3");E.textContent="Due:";const P=document.createElement("input");P.setAttribute("id","edit-task-date"),P.setAttribute("type","date"),P.classList.add("edit-task-date"),P.value=d.dueDate;const y=document.createElement("div");y.classList.add("modal-footer");const v=document.createElement("button");v.setAttribute("id","confirm-edit-btn"),v.setAttribute("type","button"),v.classList.add("confirm-edit-btn"),v.textContent="Confirm Edit",v.addEventListener("click",(()=>{n.updateTask(l,s,i)})),o.appendChild(i),i.appendChild(l),l.appendChild(r),r.appendChild(m),r.appendChild(p),p.appendChild(u),l.appendChild(g),g.appendChild(k),g.appendChild(h),g.appendChild(T),k.appendChild(j),h.appendChild(L),T.appendChild(E),T.appendChild(P),l.appendChild(y),y.appendChild(v)}static updateTask(t,e,s){const a=t.children[1].firstElementChild.firstElementChild.dataset.index;console.log(a);const d=t.children[1].firstElementChild.firstElementChild.dataset.project,o=e.getProject(d).getTaskList();c.Z.setTaskDate(d,o[a].name,document.getElementById("edit-task-date").value),c.Z.setTaskDetails(d,o[a].name,document.getElementById("edit-task-details").value),c.Z.renameTask(d,o[a].name,document.getElementById("edit-task-title").value),n.clearTaskList(),n.loadProjectTasks(d),s.classList.toggle("popup-active")}}},346:(t,e,s)=>{s.d(e,{Z:()=>n});var a=s(15),d=s(507);class c{constructor(){this.projectList=[],this.projectList.push(new a.Z("Inbox")),this.projectList.push(new a.Z("Today")),this.projectList.push(new a.Z("Upcoming"))}getProjects(){return this.projectList}setProjects(t){this.projectList=t}getProject(t){return this.projectList.find((e=>e.getName()===t))}addProject(t){this.projectList.find((e=>e.name===t.name))||this.projectList.push(t)}deleteProject(t){this.projectListContains(t)&&this.projectList.splice(this.projectList.indexOf(this.getProject(t)),1)}updateToday(){for(;this.getProject("Today").getTaskList().length>0;)this.getProject("Today").pop();this.projectList.forEach((t=>{"Today"!==t.getName()&&"Upcoming"!==t.getName()&&this.getProject("Today").getTaskList().forEach((e=>{const s=`(${t.getProjectName()}) ${e.getTaskName()}`;this.getProject("Today").addTask(new d.Z(s,e.getDate()))}))}))}updateUpcoming(){for(;this.getProject("Upcoming").getTaskList().length>0;)this.getProject("Upcoming").pop();this.projectList.forEach((t=>{"Today"!==t.getName()&&"Upcoming"!==t.getName()&&this.getProject("Upcoming").getTaskList().forEach((e=>{const s=`${t.getProjectName()} ${e.getTaskName()}`;this.getProject("Upcoming").addTask(new d.Z(s,e.getDate()))}))})),this.getProject("Upcoming").setTaskList(this.getProject("Upcoming").getTaskList().sort(((t,e)=>new Date(t)-new Date(e))))}projectListContains(t){return this.projectList.some((e=>e.getName()===t))}}class n{static updateStorage(t){localStorage.setItem("ProjectData",JSON.stringify(t))}static getSavedProjectList(){const t=Object.assign(new c,JSON.parse(localStorage.getItem("ProjectData")));return t.setProjects(t.getProjects().map((t=>Object.assign(new a.Z,t)))),t.getProjects().forEach((t=>{t.setTaskList(t.getTaskList().map((t=>Object.assign(new d.Z,t))))})),t}static addProject(t){const e=n.getSavedProjectList();e.addProject(t),n.updateStorage(e)}static deleteProject(t){const e=n.getSavedProjectList();e.deleteProject(t),n.updateStorage(e)}static addTask(t,e){const s=n.getSavedProjectList();s.getProject(t).addTask(e),n.updateStorage(s)}static deleteTask(t,e){const s=n.getSavedProjectList();s.getProject(t).deleteTask(e),n.updateStorage(s)}static renameTask(t,e,s){const a=n.getSavedProjectList();a.getProject(t).getTask(e).setTaskName(s),n.updateStorage(a)}static setTaskDate(t,e,s){const a=n.getSavedProjectList();a.getProject(t).getTask(e).setDate(s),n.updateStorage(a)}static setTaskDetails(t,e,s){const a=n.getSavedProjectList();a.getProject(t).getTask(e).setDetails(s),n.updateStorage(a)}static updateToday(){const t=n.getSavedProjectList();t.updateToday(),n.updateStorage(t)}static updateUpcoming(){const t=n.getSavedProjectList();t.updateUpcoming(),n.updateStorage(t)}}},15:(t,e,s)=>{s.d(e,{Z:()=>a});class a{constructor(t){this.name=t,this.taskList=[]}setName(t){this.name=t}getName(){return this.name}setTaskList(t){this.taskList=t}getTaskList(){return this.taskList}addTask(t){this.taskList.find((e=>e.getTaskName()===t.name))||this.taskList.push(t)}deleteTask(t){var e=this.taskList.indexOf(this.getTask(t));this.taskList.splice(e,1)}getTask(t){return this.taskList.find((e=>e.getTaskName()===t))}taskListContains(t){return this.taskList.some((e=>e.getTaskName()===t))}}},507:(t,e,s)=>{s.d(e,{Z:()=>a});class a{constructor(t,e,s){this.name=t,this.dueDate=e,this.details=s}setTaskName(t){this.name=t}getTaskName(){return this.name}setDate(t){this.dueDate=t}getDate(){if(null!==this.dueDate)return this.dueDate}setDetails(t){this.details=t}getDetails(){return this.details}}}},t=>{t(t.s=24)}]);